{% extends 'user_panel/base.html' %}
{% load static %}

{% comment %}
Template base genérico para páginas do user_panel.
Este template garante consistência visual e estrutura padrão.

Blocos disponíveis para personalização:
- page_title: Título da página no header
- breadcrumb_items: Itens do breadcrumb
- page_header: Cabeçalho da página com título e ações
- page_filters: Área de filtros (opcional)
- page_content: Conteúdo principal da página
- page_actions: Ações específicas da página
- extra_page_css: CSS específico da página
- extra_page_js: JavaScript específico da página
{% endcomment %}

{% block user_content %}
<!-- Page Header -->
<div class="mb-8">
    {% block page_header %}
    <div class="flex justify-between items-center">
        <div>
            <h1 class="text-3xl font-bold text-gray-900">{% block page_main_title %}{{ page_title|default:"Página" }}{% endblock %}</h1>
            <p class="mt-2 text-gray-600">{% block page_description %}{% endblock %}</p>
        </div>
        <div class="flex space-x-3">
            {% block page_actions %}
            {% endblock %}
        </div>
    </div>
    {% endblock %}
</div>

<!-- Page Filters -->
{% block page_filters %}
{% endblock %}

<!-- Page Content -->
<div class="space-y-6">
    {% block page_content %}
    <div class="bg-white rounded-lg shadow p-6">
        <p class="text-gray-500 text-center">Conteúdo da página</p>
    </div>
    {% endblock %}
</div>
{% endblock %}

{% block breadcrumb_items %}
<li>
    <div class="flex items-center">
        <svg class="h-5 w-5 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
        </svg>
        <span class="ml-4 text-sm font-medium text-gray-500">{% block breadcrumb_current %}{{ page_title|default:"Página" }}{% endblock %}</span>
    </div>
</li>
{% endblock %}

{% block extra_css %}
{{ block.super }}
<style>
    /* Estilos específicos para páginas do user_panel */
    .page-card {
        @apply bg-white rounded-lg shadow;
    }
    
    .page-card-header {
        @apply px-6 py-4 border-b border-gray-200;
    }
    
    .page-card-content {
        @apply p-6;
    }
    
    .page-filter-card {
        @apply bg-white rounded-lg shadow mb-6;
    }
    
    .page-filter-content {
        @apply p-6;
    }
    
    .page-table {
        @apply min-w-full divide-y divide-gray-200;
    }
    
    .page-table-header {
        @apply bg-gray-50;
    }
    
    .page-table-header th {
        @apply px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider;
    }
    
    .page-table-body {
        @apply bg-white divide-y divide-gray-200;
    }
    
    .page-table-row {
        @apply hover:bg-gray-50;
    }
    
    .page-table-cell {
        @apply px-6 py-4 whitespace-nowrap text-sm text-gray-900;
    }
    
    .page-empty-state {
        @apply text-center py-12;
    }
    
    .page-empty-icon {
        @apply mx-auto h-12 w-12 text-gray-400 mb-4;
    }
    
    .page-empty-title {
        @apply text-lg font-medium text-gray-900 mb-2;
    }
    
    .page-empty-description {
        @apply text-gray-500;
    }
    
    .page-status-badge {
        @apply inline-flex px-2 py-1 text-xs font-semibold rounded-full;
    }
    
    .page-status-success {
        @apply bg-green-100 text-green-800;
    }
    
    .page-status-warning {
        @apply bg-yellow-100 text-yellow-800;
    }
    
    .page-status-error {
        @apply bg-red-100 text-red-800;
    }
    
    .page-status-info {
        @apply bg-blue-100 text-blue-800;
    }
    
    .page-action-button {
        @apply inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200;
    }
    
    .page-primary-button {
        @apply inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200;
    }
    
    .page-form-grid {
        @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4;
    }
    
    .page-form-field {
        @apply space-y-1;
    }
    
    .page-form-label {
        @apply block text-sm font-medium text-gray-700;
    }
    
    .page-form-input {
        @apply w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500;
    }
    
    .page-form-select {
        @apply w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500;
    }
    
    {% block extra_page_css %}
    {% endblock %}
</style>
{% endblock %}

{% block extra_js %}
{{ block.super }}
<script>
    // Funções utilitárias para páginas do user_panel
    
    // Função para confirmar ações
    function confirmAction(message, callback) {
        if (confirm(message || 'Tem certeza que deseja realizar esta ação?')) {
            if (typeof callback === 'function') {
                callback();
            }
        }
    }
    
    // Função para mostrar notificações
    function showNotification(message, type = 'info') {
        // Implementar sistema de notificações
        console.log(`[${type.toUpperCase()}] ${message}`);
    }
    
    // Função para toggle de elementos
    function toggleElement(elementId) {
        const element = document.getElementById(elementId);
        if (element) {
            element.classList.toggle('hidden');
        }
    }
    
    // Função para copiar texto para clipboard
    function copyToClipboard(text) {
        navigator.clipboard.writeText(text).then(function() {
            showNotification('Texto copiado para a área de transferência!', 'success');
        }, function(err) {
            showNotification('Erro ao copiar texto', 'error');
        });
    }
    
    {% block extra_page_js %}
    {% endblock %}
</script>
{% endblock %}