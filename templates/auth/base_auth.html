{% extends 'auth/base_auth_light.html' %}

{% block title %}{% block auth_title %}Autenticação{% endblock %} - App Platform{% endblock %}

{% block content %}
<div class="min-h-screen flex">
    <!-- Left side - Form -->
    <div class="flex-1 flex flex-col justify-center py-12 px-4 sm:px-6 lg:flex-none lg:px-20 xl:px-24">
        <div class="mx-auto w-full max-w-sm lg:w-96">
            <!-- Logo -->
            <div class="text-center mb-8">
                <div class="flex justify-center">
                    <div class="w-16 h-16 bg-primary-600 rounded-xl flex items-center justify-center">
                        <i class="fas fa-rocket text-white text-2xl"></i>
                    </div>
                </div>
                <h1 class="mt-4 text-2xl font-bold text-gray-900">App Platform</h1>
                <p class="mt-2 text-sm text-gray-600">{% block auth_subtitle %}Sua plataforma de negócios{% endblock %}</p>
            </div>

            <!-- Form Header -->
            <div class="text-center mb-8">
                <h2 class="text-3xl font-bold text-gray-900">
                    {% block form_title %}Bem-vindo{% endblock %}
                </h2>
                <p class="mt-2 text-sm text-gray-600">
                    {% block form_subtitle %}Entre em sua conta{% endblock %}
                </p>
            </div>

            <!-- Messages -->
            {% if messages %}
                <div class="mb-6 space-y-3">
                    {% for message in messages %}
                        <div class="rounded-md p-4 {% if message.tags == 'error' %}bg-red-50 border border-red-200{% elif message.tags == 'success' %}bg-green-50 border border-green-200{% elif message.tags == 'warning' %}bg-yellow-50 border border-yellow-200{% else %}bg-blue-50 border border-blue-200{% endif %}">
                            <div class="flex">
                                <div class="flex-shrink-0">
                                    {% if message.tags == 'error' %}
                                        <i class="fas fa-exclamation-circle text-red-400"></i>
                                    {% elif message.tags == 'success' %}
                                        <i class="fas fa-check-circle text-green-400"></i>
                                    {% elif message.tags == 'warning' %}
                                        <i class="fas fa-exclamation-triangle text-yellow-400"></i>
                                    {% else %}
                                        <i class="fas fa-info-circle text-blue-400"></i>
                                    {% endif %}
                                </div>
                                <div class="ml-3">
                                    <p class="text-sm {% if message.tags == 'error' %}text-red-800{% elif message.tags == 'success' %}text-green-800{% elif message.tags == 'warning' %}text-yellow-800{% else %}text-blue-800{% endif %}">
                                        {{ message }}
                                    </p>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            {% endif %}

            <!-- Form Content -->
            <div class="bg-white dark:bg-gray-800 py-8 px-6 shadow-lg rounded-lg border border-gray-200 dark:border-gray-700">
                {% block form_content %}
                    <p class="text-center text-gray-500 dark:text-gray-400">Conteúdo do formulário</p>
                {% endblock %}
            </div>

            <!-- Footer Links -->
            <div class="mt-8">
                {% block auth_footer %}
                    <div class="text-center space-y-4">
                        <div class="text-sm">
                            <a href="#" class="font-medium text-primary-600 hover:text-primary-500 transition-colors">
                                Esqueceu sua senha?
                            </a>
                        </div>
                        <div class="text-sm text-gray-600 dark:text-gray-400">
                            Não tem uma conta?
                            <a href="#" class="font-medium text-primary-600 hover:text-primary-500 transition-colors">
                                Cadastre-se gratuitamente
                            </a>
                        </div>
                    </div>
                {% endblock %}
            </div>

            <!-- Terms and Privacy -->
            <div class="mt-8 text-center">
                <p class="text-xs text-gray-500 dark:text-gray-400">
                    Ao continuar, você concorda com nossos
                    <a href="#" class="text-primary-600 hover:text-primary-500 underline">Termos de Serviço</a>
                    e
                    <a href="#" class="text-primary-600 hover:text-primary-500 underline">Política de Privacidade</a>
                </p>
            </div>
        </div>
    </div>

    <!-- Right side - Image/Illustration -->
    <div class="hidden lg:block relative w-0 flex-1">
        <div class="absolute inset-0 bg-gradient-to-br from-primary-600 to-primary-800">
            <!-- Background Pattern -->
            <div class="absolute inset-0 opacity-10">
                <svg class="w-full h-full" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse">
                            <path d="M 10 0 L 0 0 0 10" fill="none" stroke="white" stroke-width="0.5"/>
                        </pattern>
                    </defs>
                    <rect width="100" height="100" fill="url(#grid)" />
                </svg>
            </div>
            
            <!-- Content -->
            <div class="relative h-full flex flex-col justify-center items-center text-white p-12">
                <div class="text-center max-w-md">
                    <div class="mb-8">
                        <i class="fas fa-chart-line text-6xl mb-4 opacity-80"></i>
                    </div>
                    <h3 class="text-3xl font-bold mb-4">
                        {% block hero_title %}Cresça seu negócio{% endblock %}
                    </h3>
                    <p class="text-xl opacity-90 mb-8">
                        {% block hero_subtitle %}Plataforma completa para gerenciar e escalar sua empresa{% endblock %}
                    </p>
                    
                    <!-- Features -->
                    <div class="space-y-4 text-left">
                        {% block hero_features %}
                            <div class="flex items-center space-x-3">
                                <i class="fas fa-check-circle text-green-300"></i>
                                <span>Dashboard intuitivo e responsivo</span>
                            </div>
                            <div class="flex items-center space-x-3">
                                <i class="fas fa-check-circle text-green-300"></i>
                                <span>Gestão completa de usuários</span>
                            </div>
                            <div class="flex items-center space-x-3">
                                <i class="fas fa-check-circle text-green-300"></i>
                                <span>Relatórios e analytics avançados</span>
                            </div>
                            <div class="flex items-center space-x-3">
                                <i class="fas fa-check-circle text-green-300"></i>
                                <span>Segurança e confiabilidade</span>
                            </div>
                        {% endblock %}
                    </div>
                </div>
                
                <!-- Testimonial -->
                <div class="absolute bottom-12 left-12 right-12">
                    {% block testimonial %}
                        <blockquote class="text-center">
                            <p class="text-lg italic opacity-90 mb-4">
                                "Esta plataforma transformou completamente a forma como gerenciamos nosso negócio."
                            </p>
                            <footer class="text-sm opacity-75">
                                — Cliente Satisfeito
                            </footer>
                        </blockquote>
                    {% endblock %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_css %}
{{ block.super }}
<style>
    /* Custom animations for auth forms */
    .auth-form-enter {
        animation: slideInUp 0.5s ease-out;
    }
    
    @keyframes slideInUp {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    /* Form input focus styles */
    .form-input:focus {
        ring-color: rgb(37 99 235);
        border-color: rgb(37 99 235);
    }
    
    /* Loading state for buttons */
    .btn-loading {
        position: relative;
        color: transparent;
    }
    
    .btn-loading::after {
        content: '';
        position: absolute;
        width: 16px;
        height: 16px;
        top: 50%;
        left: 50%;
        margin-left: -8px;
        margin-top: -8px;
        border: 2px solid #ffffff;
        border-radius: 50%;
        border-top-color: transparent;
        animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
        to {
            transform: rotate(360deg);
        }
    }
</style>
{% endblock %}

{% block extra_js %}
<script>
    // Form validation and submission handling
    document.addEventListener('DOMContentLoaded', function() {
        // Add animation class to form
        const form = document.querySelector('.bg-white');
        if (form) {
            form.classList.add('auth-form-enter');
        }
        
        // Handle form submissions
        const forms = document.querySelectorAll('form');
        forms.forEach(form => {
            form.addEventListener('submit', function(e) {
                const submitBtn = form.querySelector('button[type="submit"]');
                if (submitBtn) {
                    submitBtn.classList.add('btn-loading');
                    submitBtn.disabled = true;
                }
            });
        });
        
        // Auto-hide messages after 5 seconds
        const messages = document.querySelectorAll('[class*="bg-red-50"], [class*="bg-green-50"], [class*="bg-yellow-50"], [class*="bg-blue-50"]');
        messages.forEach(message => {
            setTimeout(() => {
                message.style.transition = 'opacity 0.5s ease-out';
                message.style.opacity = '0';
                setTimeout(() => message.remove(), 500);
            }, 5000);
        });
    });
</script>
{% endblock %}